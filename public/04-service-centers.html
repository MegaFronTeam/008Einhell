<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="utf-8">
		<title>Главная</title>
		<meta name="description" content="о чем страница">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width,initial-scale=1.0,  shrink-to-fit=no, viewport-fit=cover">
		<link type="image/ico" href="img/favicon.ico" rel="shortcut icon"><meta name="format-detection" content="telephone=no"> 
		<link href="libs/swiper/swiper-bundle.min.css" rel="stylesheet"/>
		<link href="libs/@fancyapps/ui/fancybox/fancybox.css" rel="stylesheet"/>
		<link rel="preload" href="fonts/OpenSansRegular.woff2" as="font" type="font/woff2" crossorigin="crossorigin"/>
		<link rel="preload" href="fonts/OpenSansBold.woff2" as="font" type="font/woff2" crossorigin="crossorigin"/>
		<link rel="preload" href="fonts/OpenSansLight.woff2" as="font" type="font/woff2" crossorigin="crossorigin"/>
		<link rel="preload" href="fonts/OpenSansSemiBold.woff2" as="font" type="font/woff2" crossorigin="crossorigin"/>
		<link rel="preload" href="fonts/OpenSans_CondensedBold.woff2" as="font" type="font/woff2" crossorigin="crossorigin"/>
		<link href="css/custom-bootstrap.min.css" rel="stylesheet"/>
		<link href="css/main.min.css" rel="stylesheet"/>
		<script>
			function addBlock(elem) {
				fetch(`parts/${elem}.html`)
					.then(response => response.text())
					.then( text => {
						const wrap = document.querySelector(`#${elem}Wrap`);
						wrap.insertAdjacentHTML('afterend', text);
						wrap.previousElementSibling.remove()
						wrap.remove();
					});
			}
		</script>
	</head>
	<body class="main-page">
		<div class="main-wrapper">
			<script>addBlock(`header`)</script>
			<div id="headerWrap"></div>
			<main>
				<div class="container">
					<nav class="swiper breadcrumb-slider--js" aria-label="breadcrumb">
						<ol class="breadcrumb swiper-wrapper" itemscope="itemscope" itemtype="http://schema.org/BreadcrumbList">
							<li class="breadcrumb-item swiper-slide" itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="/" itemprop="item"><span itemprop="name">Главная</span>
									<meta itemprop="position" content="1"/></a></li>
							<li class="breadcrumb-item active swiper-slide" itemprop="itemListElement" itemscope="itemscope" itemtype="http://schema.org/ListItem"><a href="#" itemprop="item"><span itemprop="name">Адреса сервисных центров</span>
									<meta itemprop="position" content="2"/></a></li>
						</ol>
					</nav>
				</div>
				<!-- start sDistributor-->
				<section class="sDistributor section" id="sDistributor">
					<div class="sDistributor__top">
						<div class="container">
							<div class="sDistributor__top-container">
								<div class="search-block">
									<form>
										<div class="search-block__title">Найти ближайший сервисный центр
										</div>
										<input type="text" placeholder="Выберите город..." inputmode="search"/>
										<button class="btn btn-primary">
											<svg class="icon icon-search ">
												<use xlink:href="img/svg/sprite.svg#search"></use>
											</svg>
										</button>
									</form>
								</div>
								<div class="sDistributor__view">
									<div class="sDistributor__view-label">Посмотреть:
									</div>
									<a class="sDistributor__view-label active" href="#">
										<svg class="icon icon-pin ">
											<use xlink:href="img/svg/sprite.svg#pin"></use>
										</svg>На карте
									</a>
									<a class="sDistributor__view-label" href="#">
										<svg class="icon icon-list ">
											<use xlink:href="img/svg/sprite.svg#list"></use>
										</svg>Списком
									</a>
								</div>
								<div class="sDistributor__img-wrap"><img src="img/duration.png" alt="" loading="lazy"/>
								</div>
							</div>
						</div>
					</div>
					<div class="sDistributor__map-wrap">
						<div id="map">
							<script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU&amp;amp;apikey=09afbf5f-475d-4f23-bb68-eb2d6371a737" type="text/javascript"></script>
							<script>"use strict";
function eventHandler() {
	
	ymaps.ready(init);
	var myMap;
	function init () {
		let coords = [],
		sDistributorItems = document.querySelectorAll('.sDistributor__item');
		
		sDistributorItems.forEach((item) => coords.push(JSON.parse(item.dataset.coords)));


		myMap = new ymaps.Map('map', {
			center: coords[0],
			zoom: 10,
			controls: []
		});
		for (let i = 0; i < sDistributorItems.length; i++) {
			let myPlacemark = new ymaps.Placemark(coords[i], {}, {
				iconLayout: 'default#image',
				iconImageHref: 'img/pin-map.png',
				iconImageSize: [37, 46],
				iconImageOffset: [-24, -38]
			});
			myMap.geoObjects.add(myPlacemark);
		}

		// for (let i = 0; i < sDistributorItems.length; i++) {
		// 	sDistributorItems[i].addEventListener('click', () => {
		// 		sDistributorItems.forEach((item) => item.classList.remove('active'));
		// 		sDistributorItems[i].classList.add('active');

		// 		myMap.setCenter(coords[i]);
		// 		myPlacemark.geometry.setCoordinates(coords[i]);
		// 	});
		// }
	};
};

if (document.readyState !== 'loading') {
	eventHandler();
} else {
	document.addEventListener('DOMContentLoaded', eventHandler);
}
							</script>
						</div>
						<div class="container">
							<div class="sDistributor__item-list">
								<div class="sDistributor__item" data-coords="[55.662187, 37.630499]">
									<div class="sDistributor__item-top">15.4 км
										<button class="sDistributor__close-btn btn btn-primary">
											<svg class="icon icon-close ">
												<use xlink:href="img/svg/sprite.svg#close"></use>
											</svg>
										</button>
									</div>
									<div class="sDistributor__item-text">
										<address>
											<div class="sDistributor__item-city">Москва
											</div>
											<div class="sDistributor__item-address">ООО «Олливер»
											</div>
											<div class="sDistributor__item-address">Каширское шоссе, д. 16
											</div>
										</address>
										<div class="sDistributor__details">
											<svg class="icon icon-metro ">
												<use xlink:href="img/svg/sprite.svg#metro"></use>
											</svg>м. Каширская
										</div>
										<div class="sDistributor__info">
											<div class="sDistributor__info-term">Режим работы
											</div>
											<div class="sDistributor__info-def">10:00 - 19:00
											</div>
										</div>
										<div class="sDistributor__info">
											<div class="sDistributor__info-term">Телефон
												<a class="sDistributor__info-def" href="tel:tel">8 (925) 088-81-018
												</a>
											</div>
										</div>
										<a class="sDistributor__details" href="#">
											<svg class="icon icon-web ">
												<use xlink:href="img/svg/sprite.svg#web"></use>
											</svg>Перейти на сайт
										</a>
										<button class="sDistributor__item-btn btn btn-primary">Построить маршрут
											<svg class="icon icon-route ">
												<use xlink:href="img/svg/sprite.svg#route"></use>
											</svg>
										</button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</section>
				<!-- end sDistributor-->
			</main>
			<script>addBlock(`footer`)</script>
			<div id="footerWrap"></div>
		</div>
		<script src="libs/jquery/jquery.min.js"></script>
		<script src="libs/@fancyapps/ui/fancybox/fancybox.umd.js"> </script>
		<script src="libs/swiper/swiper-bundle.min.js"> </script>
		<script src="libs/inputmask/inputmask.min.js"> </script>
		<script src="libs/hc-sticky/hc-sticky.js"> </script>
		<script src="js/JSCCommon.js"></script>
		<script src="js/common.js"></script>
	</body>
</html>